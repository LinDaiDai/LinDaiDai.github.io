<!DOCTYPE html>
<html lang="en">




<head><meta name="generator" content="Hexo 3.8.0">

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  
      <title>Event事件对象基础 - LinDaiDai</title>
  

  
  
  <meta name="description" content="">
  <meta name="author" content="LinDaiDai">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- load loadjs.js -->
  <script src="/libs/loadjs/dist/loadjs.min.js"></script>

<link rel="stylesheet" href="/libs/animate.css/animate.min.css">
  <!-- load lightgallery -->
<link rel="stylesheet" href="/css/lightgallery.css">
<link rel="stylesheet" href="/libs/noty/lib/noty.css">
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  






    <link rel="stylesheet" href="/css/taurus.css">
    
        <link rel="stylesheet" href="/css/scheme-taurus/animations.css">
    


<link rel="stylesheet" href="/.css">

  <!-- load font awesome 5 -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
  </script>
  <!-- load mathjax -->
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax//libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <!-- load js-cookie -->
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="/js/social-share.min.js"></script>
    <script src="/js/theme.js"></script>

  <!-- include cookie.js -->
  
  

  <!-- include comment system code -->
  
    <script src="//cdn1.lncld.net/static/js/3.6.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="/images/wang.png">
</head>
<body style="display: flex; flex-direction: column; min-height: 100vh;">

 

<header id="header" class="header">
	<div class="header-title">
		
		<div class="header-logo">
			<a href="/">
				<img src="/images/lindaidai-logo.jpg">
			</a>
		</div>
		<div class="header-text">
			<h1>
				<a href="/">LinDaiDai</a>
			</h1>
			<subtitle>
				王霈霖的个人博客
			</subtitle>
		</div>
		
	</div>
	<div id="header-nav">
		



<nav id="nav">
	
	
		
			
		
		
			<div class="nav-item">
				
					<div class="nav-name">
				
					<a class="nav-link" href="/home/">
						<span>首页 </span>
					</a>
				</div>
			</div>
		
	
		
			
		
		
			<div class="nav-item">
				
					<div class="nav-name">
				
					<a class="nav-link" href="/about/">
						<span>关于 </span>
					</a>
				</div>
			</div>
		
	
		
			
		
		
			<div class="nav-item">
				
					<div class="nav-name">
				
					<a class="nav-link" href="/projects/">
						<span>project </span>
					</a>
				</div>
			</div>
		
	
	
	<div class="nav-item" id="nav-item-toc">
		


<div class="toc-container">
<i class="far fa-times-circle" id="toc-close" onclick="closeTOC(event);" ontouchstart="closeTOC(event);"></i>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#事件对象"><span class="toc-number">1.</span> <span class="toc-text">事件对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#第一章-DOM2事件"><span class="toc-number">1.1.</span> <span class="toc-text">第一章: DOM2事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-addEventListener"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.addEventListener()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-removeEventListener"><span class="toc-number">1.1.2.</span> <span class="toc-text">2.removeEventListener()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第二章-event"><span class="toc-number">1.2.</span> <span class="toc-text">第二章:event</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第三章-event事件的高级属性"><span class="toc-number">1.3.</span> <span class="toc-text">第三章:event事件的高级属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-offsetX和offsetY"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.offsetX和offsetY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-screenX和screenY"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.screenX和screenY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-clientX和clientY"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.clientX和clientY</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第四章-事件代理-委托"><span class="toc-number">1.4.</span> <span class="toc-text">第四章: 事件代理(委托)</span></a></li></ol></li></ol>
</div>
<div class="toc-button" onclick="toggleTOC(event);" ontouchstart="toggleTOC(event);">
    <img src="/images/icons/blue-shadow/toc.svg" alt="">
</div>

	</div>
	
	<div class="nav-item" id="nav-item-archive">
		
				<div class="nav-icon">
				
			<a href="/archives/" title="归档">
			<img src="/images/icons/blue-shadow/archive.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id="nav-item-search">
		
		<div class="nav-icon">
		
			<a href="/search/" title="搜索">
			<img src="/images/icons/blue-shadow/search.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id="nav-item-more">
		<div class="nav-icon">
				<a href="#" onclick="onClickMenuIcon(event);" ontouchstart="onClickMenuIcon(event);">
				<img src="/images/icons/blue-shadow/menu.svg" alt="">
				</a>
		</div>
		<div class="nav-more-menu">
				<i class="far fa-times-circle" id="nav-more-menu-close" onclick="onClickNavMenuClose(event);" ontouchstart="onClickNavMenuClose(event);"></i>
		
			
			
				
			
				
			
				
			
				
			
				
			
				
			
		
			<div class="nav-more-item">
					<div class="nav-name">
						<a class="nav-link" href="/home/">
							<span>首页</span>
						</a>
					</div>
			</div>
		
		
			
			
				
			
				
			
				
			
				
			
				
			
				
			
		
			<div class="nav-more-item">
					<div class="nav-name">
						<a class="nav-link" href="/about/">
							<span>关于</span>
						</a>
					</div>
			</div>
		
		
			
			
				
			
				
			
				
			
				
			
				
			
				
			
		
			<div class="nav-more-item">
					<div class="nav-name">
						<a class="nav-link" href="/projects/">
							<span>Project</span>
						</a>
					</div>
			</div>
		
		
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/mySql/">
						<span>Mysql</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/php/">
						<span>Php</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/其它技能/">
						<span>其它技能</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/vscode/">
						<span>Vscode</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/前端进阶/">
						<span>前端进阶</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/前端入门/">
						<span>前端入门</span>
					</a>
				</div>
		</div>
		
	</div>
	</div>
</nav>

	</div>
</header>

 

  




  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div style="flex: 1;">
      <style>
    body {
        background-color: white;
    }
</style>




	
	
	
	



    
        
            
            
        
    






    
    
        
    

    
        
    









<article class="article" id="/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/" data-name="Event事件对象基础" data-version="">

    <!-- Title -->
    <div class="article-header">
         
         <div class="article-logo">
            <a href="#" data-no-instant="">
                <img src="/images/前端入门.svg" alt="" onerror="if(this.src != " images="" uncategorized.svg")="" this.src="/images/uncategorized.svg" "="">
            </a>
         </div>
         
         <h1 class="article-title">
            <a href="/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/">
                Event事件对象基础
            </a>
        </h1>
        <!-- TODO: support nested categories,display them nicely -->
        
        <ul class="article-categories">
            
            
                <li><a href="/categories/前端入门/" data-no-instant="">
                    <img src="/images/前端入门.svg" alt="前端入门" onerror="if(this.src != " images="" uncategorized.svg")="" this.src="/images/uncategorized.svg" "="" title="前端入门">
                </a></li>
            
        </ul>
        
    </div>
    
    <!-- Date and Author -->
    <div class="article-meta">
    <ul>
            <li><i class="fa fa-calendar"></i> 2016年02月08日</li>
            
            <li class="comment-button"><a href="#article-comment"><i class="fa fa-comments"></i> <span id="article-comment-count">0</span></a></li>
            <li><i class="fa fa-eye"></i> <span id="article-visit-count">0</span></li>
            <li class="thumb-up-button" id="thumb-up-button"><i class="far fa-thumbs-up fa-lg" id="thumb-up-icon"></i> <span id="article-thumbup-count">0</span></li>
            
            <li><i class="fa fa-user"></i> LinDaiDai</li>
            <li><i class="fas fa-copyright"></i>
            
                
                
            
            
                
                    
                
                <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh">CC BY-NC-ND 4.0</a>
            
            </li>
    </ul>
    
<div class="tags">
	
		
			<label class="tag-1"><a href="/tags/JavaScript/">Javascript</a></label>
		
	
		
			<label class="tag-2"><a href="/tags/前端入门/">前端入门</a></label>
		
	
	</div>

    </div>
    <div class="article-cards">
        <!-- Author Card -->
        <!---
        <div class='Card-article Card-author'>
            <div class='card-title'>
                <h3></h3>
            </div>
            <div class='card-content'>
                    <div class="author-meta">
                            <div class='author-figure'>
                                <img src="" alt="">
                            </div>
                            <div class='author-name'>
                                LinDaiDai
                            </div>
                        </div>
                        <div class="author-ai">
                            <div class='author-intro'>
                                <!-- TODO: auto generating author description -->
                                <!-- 
                            </div>
                            <div class="author-articles">
                                <!-- TODO: auto generating author articles -->
                                <!-- <ul>
                                    <li>Article 1</li>
                                    <li>Article 2</li>
                                    <li>Article 3</li>
                                    <li>Article 4</li>
                                    <li>Article 5</li>
                                    <li>Article 6</li>
                                </ul>
                            </div>
                        </div>
            </div>
            
        </div> -->

        <!-- Visit Card -->
        <!-- <div class="Card-article Card-visit"> -->
            <!-- <div class="card-title">
  <h3>Post Visit</h3>
</div>
<div class="card-chart">
  <div id="chart-post-visit"></div>
</div> -->
        <!-- </div> -->
        
        <!-- Auto Excerpt Card -->
        <!-- <div class="Card-article Card-excerpt">
            <div class="card-title">
  <h3>Quick Read</h3>
</div>
<div class="card-text">
  <p id="text-post-summary">事件对象第一章: DOM2事件1.addEventListener()
​    语法:    element.addEventListener( event,function(){ },boolean);

​    参数1:    必写    要添加的事件        这里直接用” “或者 ‘ ‘ 将事件名添加进去就行, 如  ‘click’    ‘mouseover’    等等.
​    参数2:     必写    事件处理程序的函数        
​    参数3:    可选    true/false    true : 捕获    false/不写:...</p>
</div>
        </div> -->
    </div>
    
    <!-- Gallery -->
    <!-- TODO: add a slider to gallery -->
    

    <!-- Content -->
    <!-- TODO: support table of content -->
    <div class="article-toc" id="article-toc">
    
        


<div class="toc-container">
<i class="far fa-times-circle" id="toc-close" onclick="closeTOC(event);" ontouchstart="closeTOC(event);"></i>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#事件对象"><span class="toc-number">1.</span> <span class="toc-text">事件对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#第一章-DOM2事件"><span class="toc-number">1.1.</span> <span class="toc-text">第一章: DOM2事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-addEventListener"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.addEventListener()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-removeEventListener"><span class="toc-number">1.1.2.</span> <span class="toc-text">2.removeEventListener()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第二章-event"><span class="toc-number">1.2.</span> <span class="toc-text">第二章:event</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第三章-event事件的高级属性"><span class="toc-number">1.3.</span> <span class="toc-text">第三章:event事件的高级属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-offsetX和offsetY"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.offsetX和offsetY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-screenX和screenY"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.screenX和screenY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-clientX和clientY"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.clientX和clientY</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第四章-事件代理-委托"><span class="toc-number">1.4.</span> <span class="toc-text">第四章: 事件代理(委托)</span></a></li></ol></li></ol>
</div>
<div class="toc-button" onclick="toggleTOC(event);" ontouchstart="toggleTOC(event);">
    <img src="/images/icons/blue-shadow/toc.svg" alt="">
</div>

    </div>
    <div class="article-content">
    <h2 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h2><h3 id="第一章-DOM2事件"><a href="#第一章-DOM2事件" class="headerlink" title="第一章: DOM2事件"></a>第一章: DOM2事件</h3><h4 id="1-addEventListener"><a href="#1-addEventListener" class="headerlink" title="1.addEventListener()"></a>1.addEventListener()</h4><blockquote>
<p>​    语法:    element.addEventListener( event,function(){ },boolean);</p>
</blockquote>
<p>​    参数1:    必写    要添加的事件        这里直接用” “或者 ‘ ‘ 将事件名添加进去就行, 如  ‘click’    ‘mouseover’    等等.</p>
<p>​    参数2:     必写    事件处理程序的函数        </p>
<p>​    参数3:    可选    true/false    true : 捕获    false/不写: 冒泡(默认)</p>
<p>如给按钮添加click事件,以下三个例题效果相同</p>
<p><strong>把事件名和函数都写在DOM2内:</strong></p>
<p>例1:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">btn.addEventListener(&apos;click&apos;, function( )&#123;	</span><br><span class="line">		console.log(&apos;click  1&apos;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>也可以把函数写在DOM2事件外面, 并在DOM2内引用:</strong></p>
<p>如例2:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">	function foo()&#123;</span><br><span class="line">		console.log(&apos;click  1&apos;);</span><br><span class="line">&#125;</span><br><span class="line">	btn.addEventListener(&apos;click&apos;, foo );</span><br></pre></td></tr></table></figure>
<p><strong>函数在外声明,并在DOM2事件内部赋值:</strong>    </p>
<p>如例3:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">	var foo;</span><br><span class="line">	btn.addEventListener(&apos;click&apos;, foo = function( )&#123;	</span><br><span class="line">			console.log(&apos;click  1&apos;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="2-removeEventListener"><a href="#2-removeEventListener" class="headerlink" title="2.removeEventListener()"></a>2.removeEventListener()</h4><p>​    移除事件</p>
<p>​    语法以及参数和addEventListener相同</p>
<p>​    但要移除的事件,它的事件处理程序的函数名必须相同</p>
<p>​    </p>
<h3 id="第二章-event"><a href="#第二章-event" class="headerlink" title="第二章:event"></a>第二章:event</h3><p>​    </p>
<table>
<thead>
<tr>
<th style="text-align:center">属性/方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">type</td>
<td style="text-align:center">string</td>
<td style="text-align:center">被触发的事件类型</td>
</tr>
<tr>
<td style="text-align:center">target</td>
<td style="text-align:center">element</td>
<td style="text-align:center">指的是目标元素,最内层元素</td>
</tr>
<tr>
<td style="text-align:center">currentTarget</td>
<td style="text-align:center">element</td>
<td style="text-align:center">其事件处理程序当前正在处理事件的那个元素(注册事件处理程序的元素)</td>
</tr>
<tr>
<td style="text-align:center">bubbles</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">事件是否冒泡</td>
</tr>
<tr>
<td style="text-align:center">eventPhase</td>
<td style="text-align:center">integer</td>
<td style="text-align:center">得到事件所处的阶段,1:捕获 2:目标节点 3:冒泡</td>
</tr>
<tr>
<td style="text-align:center">stopPropagation</td>
<td style="text-align:center">Function</td>
<td style="text-align:center">取消事件的进一步向其他元素节点捕获或者冒泡</td>
</tr>
<tr>
<td style="text-align:center">stopImmediatePropagation</td>
<td style="text-align:center">Function</td>
<td style="text-align:center">立即停止传播,效果和stopPropagation一样,但它也会取消同一元素的其他监听器捕获或冒泡</td>
</tr>
<tr>
<td style="text-align:center">preventDefault</td>
<td style="text-align:center">Function</td>
<td style="text-align:center">取消事件的默认行为(如阻止submit事件的提交行为)</td>
</tr>
<tr>
<td style="text-align:center">cancelable</td>
<td style="text-align:center">Boolean</td>
<td style="text-align:center">表明是否可以取消事件的默认行为</td>
</tr>
<tr>
<td style="text-align:center">defaultPrevented</td>
<td style="text-align:center">Boolean</td>
<td style="text-align:center">表明是否调用了preventDefault事件,即是否取消了事件的默认行为</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>实例:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"div"</span>&gt;					<span class="comment">//给div添加样式: width:100px;height:100px;background:red;</span></span><br><span class="line">    &lt;button <span class="class"><span class="keyword">class</span></span>=<span class="string">"btn"</span>&gt;点击&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br></pre></td></tr></table></figure>
<h5 id="1-type"><a href="#1-type" class="headerlink" title="1.type:"></a>1.type:</h5><blockquote>
<p>被触发的事件类型</p>
</blockquote>
<p>返回类型string</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'.div'</span>);</span><br><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'.btn'</span>);</span><br><span class="line">    btn.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'btn事件'</span>);       <span class="comment">//btn事件</span></span><br><span class="line">        <span class="built_in">console</span>.log(event.type);      <span class="comment">//click</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
<h5 id="2-target-和-currentTarget"><a href="#2-target-和-currentTarget" class="headerlink" title="2.target 和 currentTarget :"></a>2.target 和 currentTarget :</h5><blockquote>
<p>指的是目标元素,最内层元素</p>
</blockquote>
<p> 返回的是整个元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">div.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;	<span class="comment">//给div添加点击事件</span></span><br><span class="line">    <span class="built_in">console</span>.log(event.target);    </span><br><span class="line">  	<span class="built_in">console</span>.log(event.currentTarget);	</span><br><span class="line">&#125;)</span><br><span class="line">若点击的是div,没点在按钮上 ,俩个返回的都是 &lt;div&gt;..&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">若点击的是按钮:</span></span><br><span class="line"><span class="regexp">  			target	&lt;button class="btn"&gt;点击&lt;/</span>button&gt;<span class="comment">//返回的是div的最内层元素btn</span></span><br><span class="line">            currentTarget	&lt;div&gt;..&lt;<span class="regexp">/div&gt; /</span><span class="regexp">/返回的是当前正在处理的元素,也就是add前面的元素</span></span><br></pre></td></tr></table></figure>
<h5 id="3-bubble"><a href="#3-bubble" class="headerlink" title="3.bubble:"></a>3.bubble:</h5><blockquote>
<p>是否是冒泡事件</p>
</blockquote>
<p>返回布尔类型,是否是冒泡事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">btn.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(event.bubble);	<span class="comment">//true;			//click事件是冒泡事件,所有返回true;	</span></span><br><span class="line">&#125;)</span><br><span class="line">btn.addEventListener(<span class="string">'mouseenter'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(event.bubble);	<span class="comment">//false;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h5 id="4-stopPropagation"><a href="#4-stopPropagation" class="headerlink" title="4.stopPropagation:"></a>4.stopPropagation:</h5><p>一个方法   event.stopPropagation( );</p>
<blockquote>
<p>取消事件的进一步向其他元素节点捕获或者冒泡</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例1:</span></span><br><span class="line">btn.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'btn'</span>);	</span><br><span class="line">   event.stopPropagation();				<span class="comment">//给按钮添加</span></span><br><span class="line">&#125;)</span><br><span class="line">div.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123; 		<span class="comment">//给div添加第一个点击事件</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'div1'</span>);					</span><br><span class="line">&#125;)</span><br><span class="line">div.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;		<span class="comment">//给div添加第二个点击事件</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'div2'</span>);				</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">事件类型</th>
<th style="text-align:center">事件元素</th>
<th style="text-align:center">是否添加event.stopPropagation();</th>
<th style="text-align:center">返回值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">点击</td>
<td style="text-align:center">btn</td>
<td style="text-align:center">是</td>
<td style="text-align:center">btn</td>
</tr>
<tr>
<td style="text-align:center">点击</td>
<td style="text-align:center">div</td>
<td style="text-align:center"></td>
<td style="text-align:center">div1  div2</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例2:</span></span><br><span class="line">btn.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'btn'</span>);	</span><br><span class="line">&#125;)</span><br><span class="line">div.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;		<span class="comment">//给div添加第一个点击事件</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'div'</span>);	</span><br><span class="line">   event.stopPropagation();				<span class="comment">//给div添加</span></span><br><span class="line">&#125;)</span><br><span class="line">div.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;		<span class="comment">//给div添加第二个点击事件</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'div2'</span>);				</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">事件类型</th>
<th style="text-align:center">事件元素</th>
<th style="text-align:center">是否添加event.stopPropagation();</th>
<th style="text-align:center">返回值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">点击</td>
<td style="text-align:center">btn</td>
<td style="text-align:center"></td>
<td style="text-align:center">btn   div1  div2</td>
</tr>
<tr>
<td style="text-align:center">点击</td>
<td style="text-align:center">div</td>
<td style="text-align:center">是</td>
<td style="text-align:center">div1  div2</td>
</tr>
</tbody>
</table>
<h5 id="5-stopImmediatePropagation"><a href="#5-stopImmediatePropagation" class="headerlink" title="5.stopImmediatePropagation"></a>5.stopImmediatePropagation</h5><p>一个方法   event.stopImmediatePropagation( );</p>
<blockquote>
<p>立即停止传播,效果和stopPropagation一样,但它也会取消同一元素的其他监听器捕获或冒泡</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例3:</span></span><br><span class="line">btn.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'btn'</span>);	</span><br><span class="line">&#125;)</span><br><span class="line">div.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123; 		<span class="comment">//给div添加第一个点击事件</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'div1'</span>);	</span><br><span class="line">   event.stopImmediatePropagation();				</span><br><span class="line">&#125;)</span><br><span class="line">div.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;		<span class="comment">//给div添加第二个点击事件</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'div2'</span>);				</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">事件类型</th>
<th style="text-align:center">事件元素</th>
<th style="text-align:center">是否添加event.stopImmediatePropagation()</th>
<th style="text-align:center">返回值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">点击</td>
<td style="text-align:center">btn</td>
<td style="text-align:center"></td>
<td style="text-align:center">btn div1</td>
</tr>
<tr>
<td style="text-align:center">点击</td>
<td style="text-align:center">div</td>
<td style="text-align:center">是</td>
<td style="text-align:center">div1</td>
</tr>
</tbody>
</table>
<p>可以看到例2和例3中,同样是给div 和 btn 添加相同的事件,但event事件的类型不同,</p>
<p>例2中的stopProgation( ) 只能阻止它传播给给其他元素节点捕获或者冒泡,对于自身元素要还有其他的监听事件则不能阻止</p>
<p>例3中的stopImmediatePropagation( ) 既可以阻止前者,也能阻止后者;</p>
<h5 id="6-preventDefault"><a href="#6-preventDefault" class="headerlink" title="6.preventDefault"></a>6.preventDefault</h5><p>一个方法 event.preventDefault( );</p>
<blockquote>
<p>取消事件的默认行为(如阻止submit事件的提交行为)</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=<span class="string">"http://www.baidu.com"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"text"</span> name=<span class="string">"user"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"submit"</span> value=<span class="string">"提交"</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/form&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">	var form = document.querySelector("form");</span></span><br><span class="line"><span class="regexp">    form.addEventListener("submit", function (event)&#123;</span></span><br><span class="line"><span class="regexp">        event.preventDefault();  /</span><span class="regexp">/ 阻止默认行为	点击按钮,不能提交</span></span><br><span class="line"><span class="regexp">    &#125;);</span></span><br></pre></td></tr></table></figure>
<p>若没有event.preventDefault( );     点击提交按钮,网页则会跳转到百度首页</p>
<h5 id="7-cancelable"><a href="#7-cancelable" class="headerlink" title="7.cancelable"></a>7.cancelable</h5><blockquote>
<p>表明是否可以取消事件的默认行为</p>
</blockquote>
<p>返回布尔类型</p>
<h5 id="8-defaultPrevented"><a href="#8-defaultPrevented" class="headerlink" title="8.defaultPrevented"></a>8.defaultPrevented</h5><blockquote>
<p>表明是否调用了preventDefault事件,即是否取消了事件的默认行为</p>
</blockquote>
<p>返回布尔类型</p>
<h5 id="9-事件的触发"><a href="#9-事件的触发" class="headerlink" title="9.事件的触发"></a>9.事件的触发</h5><p>可以在一个定时器内放入点击事件,从而达到模拟用户点击按钮</p>
<p>的效果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">btn.onclick = function (e)&#123;</span><br><span class="line">        console.log(&quot;click...&quot;);</span><br><span class="line">        console.log(e.isTrusted);</span><br><span class="line">    &#125;</span><br><span class="line">    setInterval(function ()&#123;</span><br><span class="line">        btn.click();  // 模拟用户的点击</span><br><span class="line">    &#125;, 500)</span><br></pre></td></tr></table></figure>
<h3 id="第三章-event事件的高级属性"><a href="#第三章-event事件的高级属性" class="headerlink" title="第三章:event事件的高级属性"></a>第三章:event事件的高级属性</h3><h4 id="1-offsetX和offsetY"><a href="#1-offsetX和offsetY" class="headerlink" title="1.offsetX和offsetY"></a>1.offsetX和offsetY</h4><blockquote>
<p>​    光标相对于触发元素边界的X、Y坐标</p>
<p>​    其实是光标相对于触发元素的<strong>==左上角==</strong>的坐标。(把左上角的位置看做0，0)</p>
</blockquote>
<h4 id="2-screenX和screenY"><a href="#2-screenX和screenY" class="headerlink" title="2.screenX和screenY"></a>2.screenX和screenY</h4><blockquote>
<p>​    当前光标相对于屏幕边缘的x、y坐标</p>
<p>​    其实就是相对于屏幕左上角的坐标。(可以看出是绝对坐标)</p>
</blockquote>
<h4 id="3-clientX和clientY"><a href="#3-clientX和clientY" class="headerlink" title="3.clientX和clientY"></a>3.clientX和clientY</h4><blockquote>
<p>当前光标相对于浏览器浏览器窗口客户区域左上角的坐标(客户区域不包括状态栏、菜单栏等。)</p>
</blockquote>
<p><img src="https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/JavaScript-event-img3.png" alt="img3"></p>
<h3 id="第四章-事件代理-委托"><a href="#第四章-事件代理-委托" class="headerlink" title="第四章: 事件代理(委托)"></a>第四章: 事件代理(委托)</h3><blockquote>
<p>​    事件委托的原理：</p>
</blockquote>
<p> 假设现在要处理多个具有并列关系元素的click事件，当我点击这些元素中的任何一个元素，则事件一定会通过冒泡的方式，冒泡到他的上层的父节点元素然后一直冒到window，所以这个时候我们就可以在他的上层元素中添加事件处理程序，来统一处理这些事件，在处理的过程中可以通过获取target的id来知道是点击的哪个具体的元素。这种方式就称之为事件委托。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul id=<span class="string">"item"</span>&gt;</span><br><span class="line">    &lt;li id=<span class="string">"item1"</span>&gt;<span class="number">1</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    &lt;li id="item2"&gt;2&lt;/</span>li&gt;</span><br><span class="line">    &lt;li id=<span class="string">"item3"</span>&gt;<span class="number">3</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    &lt;li id="item4"&gt;4&lt;/</span>li&gt;</span><br><span class="line">&lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    item.onclick=function(e)&#123;</span></span><br><span class="line"><span class="regexp">        switch (e.target.id)&#123;						/</span><span class="regexp">/使用target来获取目标元素,也就是点击的那个li 并通过id来判断</span></span><br><span class="line"><span class="regexp">            case "item1":</span></span><br><span class="line"><span class="regexp">                console.log("你点击了第一个li");</span></span><br><span class="line"><span class="regexp">                break;</span></span><br><span class="line"><span class="regexp">            case "item2":</span></span><br><span class="line"><span class="regexp">                console.log("你点击了第二个li");</span></span><br><span class="line"><span class="regexp">                break;</span></span><br><span class="line"><span class="regexp">            case "item3":</span></span><br><span class="line"><span class="regexp">                console.log("你点击了第三个li");</span></span><br><span class="line"><span class="regexp">                break;</span></span><br><span class="line"><span class="regexp">            case "item4":</span></span><br><span class="line"><span class="regexp">                console.log("你点击了第四个li");</span></span><br><span class="line"><span class="regexp">                break;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注:</p>
<ol>
<li>完全可以考虑给document添加一个事件处理程序，用来处理页面上发生的某种特定类型的事件。</li>
<li>比较适合事件委托的事件：click 、 mousedown 、 mouseup 、 keydown 、 keyup 和 keypress;</li>
</ol>
</blockquote>

    
    </div>
    
    
        <div class="article-comment" id="article-comment">
            

<h1>评论</h1>

  
    <div id="valine"></div>
  


        </div>
        
</article>
  </div>

  

<footer id="footer">
    <div class="footer-copyright">
        <div>
            <p> 版权所有 <a href="">LinDaiDai </a> @ 2019</p>
            <!--<p>设计: <i class="fas fa-paint-brush"></i> <a href="https://moober.cn">Moober</a> 和 <i class="fas fa-graduation-cap"></i> <a href="https://qutang.github.io">Qu Tang</a> &bull; 主题: <a href="https://qutang.github.io/cutie/">Cutie 2.1.3-Taurus</a> &bull; 由 <a href="http://hexo.io">Hexo.</a> 强力驱动</p>-->
        </div>
    </div>
    
    <div class="footer-social">
        
            
                
                    <div class="footer-social-item"><a href="https://github.com/LinDaiDai" target="_blank"><i class="fab fa-github fa-2x" aria-hidden="true"></i></a></div>
                
            
                
                    <div class="footer-social-item"><a href="https://github.com/LinDaiDai" target="_blank"><i class="fab fa-weixin fa-2x" aria-hidden="true"></i></a></div>
                
            
                
                    <div class="footer-social-item"><a href="https://github.com/LinDaiDai" target="_blank"><i class="fab fa-qq fa-2x" aria-hidden="true"></i></a></div>
                
            
        
    </div>
</footer>

  <br>

  <div id="footer-nav" class='footer-nav'>
		



<nav id="nav">
	
	
		
			
				
			
		
		
	
		
			
		
		
	
		
			
		
		
	
	
	<div class="nav-item" id="nav-item-toc">
		


<div class="toc-container">
<i class="far fa-times-circle" id="toc-close" onclick="closeTOC(event);" ontouchstart="closeTOC(event);"></i>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#事件对象"><span class="toc-number">1.</span> <span class="toc-text">事件对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#第一章-DOM2事件"><span class="toc-number">1.1.</span> <span class="toc-text">第一章: DOM2事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-addEventListener"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.addEventListener()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-removeEventListener"><span class="toc-number">1.1.2.</span> <span class="toc-text">2.removeEventListener()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第二章-event"><span class="toc-number">1.2.</span> <span class="toc-text">第二章:event</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第三章-event事件的高级属性"><span class="toc-number">1.3.</span> <span class="toc-text">第三章:event事件的高级属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-offsetX和offsetY"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.offsetX和offsetY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-screenX和screenY"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.screenX和screenY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-clientX和clientY"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.clientX和clientY</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第四章-事件代理-委托"><span class="toc-number">1.4.</span> <span class="toc-text">第四章: 事件代理(委托)</span></a></li></ol></li></ol>
</div>
<div class="toc-button" onclick="toggleTOC(event);" ontouchstart="toggleTOC(event);">
    <img src="/images/icons/blue-shadow/toc.svg" alt="">
</div>

	</div>
	
	<div class="nav-item" id="nav-item-archive">
		
				<div class="nav-icon">
				
			<a href="/archives/" title="归档">
			<img src="/images/icons/blue-shadow/archive.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id="nav-item-search">
		
		<div class="nav-icon">
		
			<a href="/search/" title="搜索">
			<img src="/images/icons/blue-shadow/search.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id="nav-item-more">
		<div class="nav-icon">
				<a href="#" onclick="onClickMenuIcon(event);" ontouchstart="onClickMenuIcon(event);">
				<img src="/images/icons/blue-shadow/menu.svg" alt="">
				</a>
		</div>
		<div class="nav-more-menu">
				<i class="far fa-times-circle" id="nav-more-menu-close" onclick="onClickNavMenuClose(event);" ontouchstart="onClickNavMenuClose(event);"></i>
		
			
			
				
			
				
			
				
			
				
			
				
			
				
			
		
			<div class="nav-more-item">
					<div class="nav-name">
						<a class="nav-link" href="/home/">
							<span>首页</span>
						</a>
					</div>
			</div>
		
		
			
			
				
			
				
			
				
			
				
			
				
			
				
			
		
			<div class="nav-more-item">
					<div class="nav-name">
						<a class="nav-link" href="/about/">
							<span>关于</span>
						</a>
					</div>
			</div>
		
		
			
			
				
			
				
			
				
			
				
			
				
			
				
			
		
			<div class="nav-more-item">
					<div class="nav-name">
						<a class="nav-link" href="/projects/">
							<span>Project</span>
						</a>
					</div>
			</div>
		
		
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/mySql/">
						<span>Mysql</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/php/">
						<span>Php</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/其它技能/">
						<span>其它技能</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/vscode/">
						<span>Vscode</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/前端进阶/">
						<span>前端进阶</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/前端入门/">
						<span>前端入门</span>
					</a>
				</div>
		</div>
		
	</div>
	</div>
</nav>

	</div>

  



    

    
    
    
<script>
    new Valine({
        el: '#valine',
        notify:false, 
        verify:false,
        appId: '0Nyr31J74bB24hrKnRrheEdf-gzGzoHsz',
        appKey: 'RYPhOnr007gXeWPQr3V1VFHH',
        placeholder: '说点什么吧...',
        path:window.location.pathname, 
        avatar:'monsterid',
        lang: 'zh-cn',
        visitor: true // 阅读量统计
    });
</script>









    <script src="/js/lightgallery.min.js"></script>
<script src="/js/lg-zoom.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("#lightgallery").lightGallery(); 
        $(".article-content img").each(function(){
            console.log($(this).attr('src'))
            $(this).attr('data-src', $(this).attr('src')).lightGallery({
                selector: 'this'
            })
        });
    });
</script>






<script type="text/javascript">

  
  // update cookie if this page is opened (directly)
  loadjs(['/libs/jshashes/hashes.min.js', '/libs/js-cookie/src/js.cookie.js', '/js/post.v2.js'], 'post-version');
  loadjs.ready('post-version', function(){
    
    new Postv2('hashit_adf7e700925df71e09a666b9f82bb95bb994c69f8fbc3b300dd0b8b2e6130e2a').update('hashit_8885e12cc8b80ea15bdb8e82985f5b916f704d1f04d933da308b3e2c11613654', function(){});
  });
  
</script>


    
<script type="text/javascript">
  
  // update cookie if this page is opened (directly)
  function getIP(json) {
  loadjs(['/libs/jshashes/hashes.min.js', '/libs/js-cookie/src/js.cookie.js', '/js/leancloud.js'], 'post-visit-comment-count');
  loadjs.ready('post-visit-comment-count', function(){
    
    
    LeanCloud.init('', '');
    var leanCloud = LeanCloud.getInstance();
    leanCloud.fetchIsThumbUp('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/', json.ip);
    document.getElementById('thumb-up-button').addEventListener('click', function(e){
      leanCloud.isThumbUp('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/', function(isThumbUp){
        console.log('is thumb up:' + isThumbUp);
        if(isThumbUp){
          leanCloud.removeThumbUpRecord('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/', json.ip);
          document.getElementById('thumb-up-icon').className = "far fa-thumbs-up fa-lg";
          
        }else{
          leanCloud.addThumbUpRecord('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/', json.ip);
          document.getElementById('thumb-up-icon').className = "fas fa-thumbs-up fa-lg";
        }
        leanCloud.getThumbUpCount('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/', function(count){
            console.log('thumb up count: ' + count)
            var el = document.getElementById('article-thumbup-count');
            if(el) el.innerHTML = count;
        });
      });
    });
    leanCloud.addVisitRecord('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/', json.ip);
    leanCloud.fetchCommentCount('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/');
    leanCloud.fetchVisitCount('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/');
    leanCloud.fetchThumbUpCount('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/');
    leanCloud.getCommentCount('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/', function(count){
        var el = document.querySelector('#article-comment-count');
        if(el) el.innerHTML = count;
    });
    leanCloud.getVisitCount('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/', function(count){
        var el = document.querySelector('#article-visit-count');
        if(el) el.innerHTML = count;
    });
    leanCloud.getThumbUpCount('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/', function(count){
        var el = document.getElementById('article-thumbup-count');
        if(el) el.innerHTML = count;
    });
    leanCloud.isThumbUp('/2016/02/08/webNotes/primary/JavaScript/basicOfEvent/', function(isThumbUp){
        console.log('init thumb up:' + isThumbUp);
        if(isThumbUp){
          document.getElementById('thumb-up-icon').className = "fas fa-thumbs-up fa-lg";
        }else{
          document.getElementById('thumb-up-icon').className = "far fa-thumbs-up fa-lg";
        }
    });
  });
  }
  
</script>

<script type="application/javascript" src="https://api.ipify.org?format=jsonp&callback=getIP"></script>



<!-- <script src="/js/post.js"></script> -->

<script src="/js/headroom.min.js"></script>

<script data-no-instant="" type="text/javascript">

initHeadroom();

changeLayoutOnTouchScreen();

// 
// var post = new Post('', '');
// post.getCommentCount(window.location.pathname, function(count){
//     $('#article-comment-count').text(count);
// });
// post.addVisitRecord(window.location.pathname, userip);
// post.getVisitCount(window.location.pathname, function(count){
//     $('#article-visit-count').text(count);
// });

// 
</script>


<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
