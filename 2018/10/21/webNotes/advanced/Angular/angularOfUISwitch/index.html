<!DOCTYPE html>
<html lang="en">




<head><meta name="generator" content="Hexo 3.8.0">

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">
  
      <title>Angularè‡ªå®šä¹‰ç»„ä»¶-UIç»„ä»¶ç¯‡-switchç»„ä»¶ - LinDaiDai</title>
  

  
  
  <meta name="description" content="">
  <meta name="author" content="LinDaiDai">

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- load loadjs.js -->
  <script src="/libs/loadjs/dist/loadjs.min.js"></script>

<link rel="stylesheet" href="/libs/animate.css/animate.min.css">
  <!-- load lightgallery -->
<link rel="stylesheet" href="/css/lightgallery.css">
<link rel="stylesheet" href="/libs/noty/lib/noty.css">
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  






    <link rel="stylesheet" href="/css/taurus.css">
    


<link rel="stylesheet" href="/.css">

  <!-- load font awesome 5 -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
  </script>
  <!-- load mathjax -->
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax//libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <!-- load js-cookie -->
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="/js/social-share.min.js"></script>
    <script src="/js/theme.js"></script>

  <!-- include cookie.js -->
  
  

  <!-- include comment system code -->
  
  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/wang.png">
</head>
<body style="display: flex; flex-direction: column; min-height: 100vh;">

 

<header id="header" class="header">
	<div class="header-title">
		
		<div class="header-text-no-image">
			<h1>
				<a href="/">LinDaiDai</a>
			</h1>
			<subtitle>ç‹éœˆéœ–çš„ä¸ªäººåšå®¢</subtitle>
		</div>
		
	</div>
	<div id="header-nav">
		



<nav id="nav">
	
	
	
	<div class="nav-item" id="nav-item-toc">
		


<div class="toc-container">
<i class="far fa-times-circle" id="toc-close" onclick="closeTOC(event);" ontouchstart="closeTOC(event);"></i>

</div>
<div class="toc-button" onclick="toggleTOC(event);" ontouchstart="toggleTOC(event);">
    <img src="/images/icons//toc.svg" alt="">
</div>

	</div>
	
	<div class="nav-item" id="nav-item-archive">
		
				<div class="nav-icon">
				
			<a href="/archives/" title="å½’æ¡£">
			<img src="/images/icons//archive.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id="nav-item-search">
		
		<div class="nav-icon">
		
			<a href="/search/" title="æœç´¢">
			<img src="/images/icons//search.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id="nav-item-more">
		<div class="nav-icon">
				<a href="#" onclick="onClickMenuIcon(event);" ontouchstart="onClickMenuIcon(event);">
				<img src="/images/icons//menu.svg" alt="">
				</a>
		</div>
		<div class="nav-more-menu">
				<i class="far fa-times-circle" id="nav-more-menu-close" onclick="onClickNavMenuClose(event);" ontouchstart="onClickNavMenuClose(event);"></i>
		
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/php/">
						<span>Php</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/mySql/">
						<span>Mysql</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/å…¶å®ƒæŠ€èƒ½/">
						<span>å…¶å®ƒæŠ€èƒ½</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/vscode/">
						<span>Vscode</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/å‰ç«¯è¿›é˜¶/">
						<span>å‰ç«¯è¿›é˜¶</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/å‰ç«¯å…¥é—¨/">
						<span>å‰ç«¯å…¥é—¨</span>
					</a>
				</div>
		</div>
		
	</div>
	</div>
</nav>

	</div>
</header>

 

  




  <!-- Primary Page Layout
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <div style="flex: 1;">
      <style>
    body {
        background-color: white;
    }
</style>




	
	
	
	



    
        
            
            
        
    






    









<article class="article" id="/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/" data-name="Angularè‡ªå®šä¹‰ç»„ä»¶-UIç»„ä»¶ç¯‡-switchç»„ä»¶" data-version="">

    <!-- Title -->
    <div class="article-header">
         
         <div class="article-logo">
            <a href="#" data-no-instant="">
                <img src="/images/Angular.svg" alt="" onerror="if(this.src != " images="" uncategorized.svg")="" this.src="/images/uncategorized.svg" "="">
            </a>
         </div>
         
         <h1 class="article-title">
            <a href="/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/">
                Angularè‡ªå®šä¹‰ç»„ä»¶-UIç»„ä»¶ç¯‡-Switchç»„ä»¶
            </a>
        </h1>
        <!-- TODO: support nested categories,display them nicely -->
        
        <ul class="article-categories">
            
            
                <li><a href="/categories/å‰ç«¯è¿›é˜¶/" data-no-instant="">
                    <img src="/images/å‰ç«¯è¿›é˜¶.svg" alt="å‰ç«¯è¿›é˜¶" onerror="if(this.src != " images="" uncategorized.svg")="" this.src="/images/uncategorized.svg" "="" title="å‰ç«¯è¿›é˜¶">
                </a></li>
            
        </ul>
        
    </div>
    
    <!-- Date and Author -->
    <div class="article-meta">
    <ul>
            <li><i class="fa fa-calendar"></i> 2018å¹´10æœˆ21æ—¥</li>
            
            <li class="comment-button"><a href="#article-comment"><i class="fa fa-comments"></i> <span id="article-comment-count">0</span></a></li>
            <li><i class="fa fa-eye"></i> <span id="article-visit-count">0</span></li>
            <li class="thumb-up-button" id="thumb-up-button"><i class="far fa-thumbs-up fa-lg" id="thumb-up-icon"></i> <span id="article-thumbup-count">0</span></li>
            
            <li><i class="fa fa-user"></i> LinDaiDai</li>
            <li><i class="fas fa-copyright"></i>
            
                
                
            
            
                
                <a href="mailto:">ç¦æ­¢è½¬è½½</a>
            
            </li>
    </ul>
    
<div class="tags">
	
		
			<label class="tag-1"><a href="/tags/Angular/">Angular</a></label>
		
	
		
			<label class="tag-2"><a href="/tags/å‰ç«¯è¿›é˜¶/">å‰ç«¯è¿›é˜¶</a></label>
		
	
	</div>

    </div>
    <div class="article-cards">
        <!-- Author Card -->
        <!---
        <div class='Card-article Card-author'>
            <div class='card-title'>
                <h3></h3>
            </div>
            <div class='card-content'>
                    <div class="author-meta">
                            <div class='author-figure'>
                                <img src="" alt="">
                            </div>
                            <div class='author-name'>
                                LinDaiDai
                            </div>
                        </div>
                        <div class="author-ai">
                            <div class='author-intro'>
                                <!-- TODO: auto generating author description -->
                                <!-- 
                            </div>
                            <div class="author-articles">
                                <!-- TODO: auto generating author articles -->
                                <!-- <ul>
                                    <li>Article 1</li>
                                    <li>Article 2</li>
                                    <li>Article 3</li>
                                    <li>Article 4</li>
                                    <li>Article 5</li>
                                    <li>Article 6</li>
                                </ul>
                            </div>
                        </div>
            </div>
            
        </div> -->

        <!-- Visit Card -->
        <!-- <div class="Card-article Card-visit"> -->
            <!-- <div class="card-title">
  <h3>Post Visit</h3>
</div>
<div class="card-chart">
  <div id="chart-post-visit"></div>
</div> -->
        <!-- </div> -->
        
        <!-- Auto Excerpt Card -->
        <!-- <div class="Card-article Card-excerpt">
            <div class="card-title">
  <h3>Quick Read</h3>
</div>
<div class="card-text">
  <p id="text-post-summary">...</p>
</div>
        </div> -->
    </div>
    
    <!-- Gallery -->
    <!-- TODO: add a slider to gallery -->
    

    <!-- Content -->
    <!-- TODO: support table of content -->
    <div class="article-toc" id="article-toc">
    
        


<div class="toc-container">
<i class="far fa-times-circle" id="toc-close" onclick="closeTOC(event);" ontouchstart="closeTOC(event);"></i>

</div>
<div class="toc-button" onclick="toggleTOC(event);" ontouchstart="toggleTOC(event);">
    <img src="/images/icons//toc.svg" alt="">
</div>

    </div>
    <div class="article-content">
    <p><strong>å‰è¨€</strong></p>
<p>å‰ç«¯æ¡†æ¶å¤šå—ï¼Ÿ<br>å¤šï¼<br>å‰ç«¯UIç»„ä»¶åº“å¤šå—ï¼Ÿ<br>æ›´å¤šï¼<br>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå‰ç«¯ç”Ÿæ€åœˆé‡Œæä¾›äº†å„è‰²å„æ ·çš„ç»„ä»¶åº“ä¾›æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ï¼Œå¤§å¤šæ•°éƒ½èƒ½æ»¡è¶³å¼€å‘è€…çš„éœ€æ±‚ï¼Œç›¸ä¿¡å¤§å®¶ä¹Ÿéƒ½ç”¨è¿‡å¾ˆå¤šã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œæ®æˆ‘äº†è§£åˆ°çš„ï¼Œç¨å¾®å¤§ä¸€äº›æœ‰è‡ªå·±äº§å“çš„å…¬å¸éƒ½ä¼šæœ‰ä¸€å¥—è‡ªå®šä¹‰çš„UIç»„ä»¶åº“ï¼Œæ»¡è¶³è‡ªèº«å¤æ‚çš„éœ€æ±‚ä¸ç»šä¸½çš„æ•ˆæœã€‚<br>åšä¸»ç›®å‰æ‰€åœ¨çš„å…¬å¸ä¹Ÿæœ‰ä¸€å¥—è‡ªå·±çš„äº§å“ï¼ŒPCç«¯æ‰€ç”¨çš„å‰ç«¯æ¡†æ¶æ˜¯<a href="https://angular.cn/" target="_blank" rel="noopener">Angular4</a>.<br>Angular4å…¶å®ä¹Ÿæœ‰å®ƒä¸“é—¨å®šåˆ¶çš„å‰ç«¯ç»„ä»¶åº“<a href="https://www.primefaces.org/primeng/#/" target="_blank" rel="noopener">PrimeNg</a>.å°±åƒ<a href="https://cn.vuejs.org/" target="_blank" rel="noopener">Vue.js</a>æœ‰<a href="http://element.eleme.io/#/zh-CN" target="_blank" rel="noopener">Element</a>ä¸€æ ·.<br>é‚£ä¹ˆæŒ‰ç†åœ¨å¼€å‘ä¸­æˆ‘ä»¬å·²ç»æœ‰äº†å‰ç«¯ç»„ä»¶åº“å¯ä»¥ä½¿ç”¨ï¼Œä¸ºä»€ä¹ˆè¿˜è¦èŠ±é‚£ä¹ˆå¤šçš„ç²¾åŠ›å’Œæ—¶é—´æ¥é‡æ–°è®¾è®¡UIç»„ä»¶å‘¢ï¼Ÿè¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šå‡ å¼ å®˜æ–¹æä¾›çš„UIç»„ä»¶å›¾ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/7190596-dd77d959b8c64df2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="offSwitch"><br><img src="https://upload-images.jianshu.io/upload_images/7190596-60fa25555ba3dc41.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="onSwitch"><br>ç¡®å®ä¸æ˜¯æˆ‘åæ§½,å®˜æ–¹æä¾›çš„ä¸€äº›ç»„ä»¶æ ·å¼çœŸçš„æœ‰ç‚¹å¥‡æ€ªğŸ˜­â€¦è™½ç„¶Angularå®˜ç½‘<a href="https://angular.cn/guide/component-styles" target="_blank" rel="noopener">ç»„ä»¶æ ·å¼</a>è¿™ä¸€æ–‡æ¡£ä¸­å·²ç»è¯´æ˜äº†å¯ä»¥ç”¨<code>::ng-deep</code>æ¥è¿›è¡Œå¯¹ç»„ä»¶æ ·å¼çš„ä¿®æ”¹,ä½†ä¿®æ”¹èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ã€‚æœ‰é‚£æ—¶é—´ï¼Œè‡ªå·±éƒ½å·²ç»æ’¸äº†ä¸€ä¸ªäº†â€¦<br>ï¼ˆé¡¹ç›®ä¸­ç”¨çš„<code>primeng</code>æ˜¯<code>v4.2.2</code>ç‰ˆæœ¬çš„,ç›®å‰å·²ç»è¿­ä»£åˆ°äº†<code>v6.1.5</code>,æ‰€ä»¥ç°åœ¨å®˜ç½‘ä¸Šçœ‹åˆ°çš„<code>inputSwitch</code>ç»„ä»¶ä¼šæ¯”è¿™ä¸ªå¥½çœ‹ç‚¹ï¼‰<br>emmmâ€¦.ä¸ºäº†è¿½æ±‚ç”¨æˆ·ä½“éªŒ(å‘¸,ç†Ÿæ‚‰<code>angular4</code>çš„ä½¿ç”¨)æ‰€ä»¥åšä¸»å†³å®šåˆ©ç”¨é—²æš‡ä¹‹ä½™è‡ªå®šä¹‰ä¸€äº›UIç»„ä»¶,ä»¥æ»¡è¶³æˆ‘ä»¬äº§å“â€ä¸€äº›æ— ç¤¼çš„è¦æ±‚â€ã€‚</p>
<h3 id="ä¸€ã€ç¡®å®šç»„ä»¶å­˜æ”¾çš„ä½ç½®"><a href="#ä¸€ã€ç¡®å®šç»„ä»¶å­˜æ”¾çš„ä½ç½®" class="headerlink" title="ä¸€ã€ç¡®å®šç»„ä»¶å­˜æ”¾çš„ä½ç½®"></a>ä¸€ã€ç¡®å®šç»„ä»¶å­˜æ”¾çš„ä½ç½®</h3><p>ä¸€ä¸ªé¡¹ç›®ä¸­ä¼šæœ‰å„ç§æ–‡ä»¶ã€æ–‡ä»¶å¤¹ï¼Œå¦‚ä½•å­˜æ”¾ç®¡ç†å¥½è¿™äº›æ–‡ä»¶çœŸçš„å¾ˆé‡è¦ã€‚ä¸ä»…ä¸ºè‡ªå·±æä¾›äº†æ–¹ä¾¿ï¼Œä¹Ÿä¸ºåæ¥çš„å¼€å‘è€…æä¾›æ–¹ä¾¿ã€‚<br>æ‰€ä»¥æˆ‘ä»¬åœ¨è®¾è®¡å…¬ç”¨ç»„ä»¶çš„æ—¶å€™ä¹Ÿåº”è¯¥æŠŠå®ƒä»¬éƒ½å½’ç»“åœ¨ä¸€èµ·ã€‚<br>æˆ‘ä¹ æƒ¯åœ¨é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ª<code>common</code>æ–‡ä»¶å¤¹ï¼Œé‡Œé¢å­˜æ”¾ä¸€äº›å…±ç”¨çš„<code>compoent</code>ï¼Œ<code>service</code>ç­‰ç­‰ã€‚<br><img src="https://upload-images.jianshu.io/upload_images/7190596-02b97f12f63aa5c9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="app/common/component"><br>å¦‚ä¸Šå›¾ï¼Œå¯ä»¥çœ‹åˆ°<code>common</code>æ–‡ä»¶å¤¹ä¸‹å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªåä¸º<code>shared</code>çš„æ¨¡å—ã€‚<br><code>shared</code>æ¨¡å—çš„åˆ›å»ºè¿‡ç¨‹ï¼š<br>ï¼ˆ1ï¼‰æ‰“å¼€å‘½ä»¤è¡Œ(ä½¿ç”¨vscodeç¼–è¾‘å™¨çš„å°ä¼™å¯ä»¥ç›´æ¥ä½¿ç”¨Ctrl+` å¿«æ·é”®æ‰“å¼€ç»ˆç«¯,ç„¶åä¸€è·¯è·³è½¬åˆ°commonæ–‡ä»¶å¤¹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd src\app\common</span><br></pre></td></tr></table></figure></p>
<p>(2) ä½¿ç”¨åˆ›å»ºæ¨¡å—çš„æŒ‡ä»¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng g m shared</span><br></pre></td></tr></table></figure></p>
<p>å…¶å®å¾ˆå¥½ç†è§£:<code>ng</code>ä¸º<code>angular</code>ä¸€è´¯çš„æŒ‡ä»¤,<code>g</code>ä¸º<code>generate</code>åˆ›å»ºçš„ç¼©å†™,<code>m</code>ä¸º<code>module</code>æ¨¡å—çš„ç¼©å†™,åé¢æ¥ç€ä½ çš„æ¨¡å—åã€‚(åé¢åˆ›å»ºç»„ä»¶ä¹Ÿæ˜¯è¿™ä¸ªåŸç†)<br>åˆ›å»ºçš„æ¨¡å—å®é™…ä¸Šå¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå¸¦æœ‰<code>@NgModule</code>è£…é¥°å™¨çš„ç±»è€Œå·²ï¼Œå…¶ä¸­æä¾›äº†æˆ‘ä»¬è‡ªå®šä¹‰çš„å…¬æœ‰ç»„ä»¶<code>component</code>ï¼Œå…¬æœ‰æœåŠ¡<code>service</code>ï¼Œä»¥åŠç®¡é“<code>pipe</code>ç­‰ç­‰ã€‚</p>
<h3 id="äºŒã€åˆ›å»ºç»„ä»¶"><a href="#äºŒã€åˆ›å»ºç»„ä»¶" class="headerlink" title="äºŒã€åˆ›å»ºç»„ä»¶"></a>äºŒã€åˆ›å»ºç»„ä»¶</h3><p>ç”±äºæˆ‘ä»¬è¦åˆ›å»ºçš„æ˜¯ä¸€ä¸ª<code>switch</code>å…¬ç”¨ç»„ä»¶ï¼Œæ‰€ä»¥åœ¨<code>component</code>æ–‡ä»¶å¤¹ä¸‹åœ¨åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹<code>general-control</code>ï¼Œä¹‹å‰éƒ½æ˜¯ç›´æ¥å †ç§¯åœ¨<code>component</code>æ–‡ä»¶å¤¹ä¸‹çš„ï¼Œè¿‘æœŸå‘ç°å †å¾—æœ‰ç‚¹å¤šäº†ï¼Œæ‰€ä»¥åˆå•ç‹¬åˆ›å»ºäº†ä¸€ä¸ª<code>general-control</code>æ–‡ä»¶å¤¹æ¥å­˜æ”¾ä¸€äº›åŸºç¡€çš„å…¬ç”¨ç»„ä»¶ã€‚<br>æ­¤æ—¶ä½ éœ€è¦æ‰“å¼€å‘½ä»¤è¡Œ(ä½¿ç”¨vscodeç¼–è¾‘å™¨çš„å°ä¼™å¯ä»¥ç›´æ¥ä½¿ç”¨Ctrl+` å¿«æ·é”®æ‰“å¼€ç»ˆç«¯,ç„¶åä¸€è·¯è·³è½¬åˆ°general-controlæ–‡ä»¶å¤¹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd src\app\common\component\general-control</span><br></pre></td></tr></table></figure></p>
<p>åœ¨æ­¤ç›®å½•ä¸‹æ‰§è¡ŒæŒ‡ä»¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng g c switch</span><br></pre></td></tr></table></figure></p>
<p>ä¸Šé¢æŒ‡ä»¤çš„æ„æ€æ˜¯åˆ›å»ºä¸€ä¸ªåä¸º<code>switch</code>çš„ç»„ä»¶ï¼ŒåŸç†å’Œåˆ›å»ºæ¨¡å—æ—¶ä¸€æ ·ã€‚<br>å¯ä»¥çœ‹åˆ°ç°åœ¨çš„<code>general-control</code>æ–‡ä»¶å¤¹ä¸‹å¤šå‡ºäº†ä¸€äº›ä¸œè¥¿ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/7190596-a9792397366297e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="switchæ–‡ä»¶å¤¹"><br>æ²¡é”™,å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨æŒ‡ä»¤åˆ›å»ºçš„<code>switch</code>ç»„ä»¶ã€‚<br>æŒ‡ä»¤ä¼šè‡ªåŠ¨å¸®ä½ ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤¹å’Œ4ä¸ªæ–‡ä»¶ã€‚(åŸºäº<code>TypeScript</code>çš„è¯­æ³•ï¼Œæ‰€ä»¥ç”Ÿæˆçš„<code>js</code>æ–‡ä»¶ä¹Ÿå°±æ˜¯<code>ts</code>)<br>å¾ˆå¥½ç†è§£ï¼Œå¯¹åº”çš„<code>html</code>æ–‡ä»¶ç¼–å†™<code>HTMLä»£ç </code>ï¼Œ<code>css</code>æ–‡ä»¶ç¼–å†™<code>CSSä»£ç </code>ï¼Œ<code>ts</code>æ–‡ä»¶ç¼–å†™<code>js</code>ä»£ç ï¼Œè‡³äº<code>spec.ts</code>æ–‡ä»¶æˆ‘ä»¬å¯ä»¥ä¸ç”¨ç®¡å®ƒã€‚<br>ç”±äºæˆ‘åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯<a href="https://www.sass.hk/" target="_blank" rel="noopener">sass</a>ï¼Œæ‰€ä»¥å°†<code>switch.component.css</code>è¿™ä¸ªæ–‡ä»¶çš„åç¼€åä¿®æ”¹ä¸º<code>scss</code>ï¼ˆä½¿ç”¨äº†lessç­‰å…¶å®ƒæ‰©å±•è¯­è¨€çš„å°ä¼™åŒç†ï¼‰,å¹¶åœ¨<code>ts</code>ä¸­å¯¹<code>css</code>çš„å¼•ç”¨è¿›è¡Œä¿®æ”¹ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/7190596-b784731e4858cab4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="scss"><br><img src="https://upload-images.jianshu.io/upload_images/7190596-3b5d60616cd58349.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¿®æ”¹ts"></p>
<p>ä½¿ç”¨ä¸Šé¢çš„æŒ‡ä»¤åˆ›å»ºçš„ç»„ä»¶æ˜¯ä¼šè¢«è‡ªåŠ¨å¼•ç”¨åˆ°<code>shared</code>è¿™ä¸ªæ¨¡å—ä¸­çš„ã€‚<br><code>shared.module.ts</code>:<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; SwitchComponent &#125; <span class="keyword">from</span> <span class="string">'./component/general-control/switch/switch.component'</span>;<span class="comment">//æ¨¡å—ä¸­importå¼•å…¥ç»„ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">declarations: [</span><br><span class="line">  SwitchComponent  <span class="comment">//æ¨¡å—ä¸­å£°æ˜ç»„ä»¶</span></span><br><span class="line">  ...</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>ä¸Šé¢ä¿©æ­¥æ˜¯ä½ åœ¨ä½¿ç”¨<code>ng g c switch</code>æŒ‡ä»¤æ—¶è‡ªåŠ¨å¸®ä½ å®Œæˆçš„ï¼Œä½†è‹¥æ˜¯ä½ æƒ³åœ¨å…¶å®ƒçš„æ¨¡å—ä¸­ä½¿ç”¨è¿™ä¸ª<code>switch</code>ç»„ä»¶ï¼Œè¿˜å¾—å°†å…¶å¯¼å‡ºï¼Œå¯¼å‡ºçš„æ–¹å¼æ˜¯å°†è¿™ä¸ªç»„ä»¶æ·»åŠ è‡³<code>shared.module.ts</code>æ–‡ä»¶çš„<code>exports</code>ä¸­ï¼š<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; SwitchComponent &#125; <span class="keyword">from</span> <span class="string">'./component/general-control/switch/switch.component'</span>;<span class="comment">//æ¨¡å—ä¸­importå¼•å…¥ç»„ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  declarations: [</span><br><span class="line">    SwitchComponent  <span class="comment">//æ¨¡å—ä¸­å£°æ˜ç»„ä»¶</span></span><br><span class="line">    ...</span><br><span class="line">    ],</span><br><span class="line">  exports: [</span><br><span class="line">    SwitchComponent  <span class="comment">//æ¨¡å—ä¸­å¯¼å‡ºç»„ä»¶</span></span><br><span class="line">    ...</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>å®Œæˆä¸Šé¢çš„æ­¥éª¤ä½ å°±å¯ä»¥å®‰å¿ƒçš„æ¥å¼€å‘è‡ªå·±çš„ç»„ä»¶äº†ã€‚</p>
<h3 id="ä¸‰ã€ç¼–å†™switchç»„ä»¶"><a href="#ä¸‰ã€ç¼–å†™switchç»„ä»¶" class="headerlink" title="ä¸‰ã€ç¼–å†™switchç»„ä»¶"></a>ä¸‰ã€ç¼–å†™switchç»„ä»¶</h3><p>ä¸€ç•ªæŸ¥æ‰¾ï¼Œå‘ç°ç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šè‡ªå®šä¹‰<code>switch</code>ç»„ä»¶çš„æ–‡ç« å’Œæºç ï¼Œå¯èƒ½æ˜¯å¤§å®¶éƒ½è§‰å¾—åŸç”Ÿçš„æ ·å¼ä¸å¥½çœ‹å§â€¦<br>æœ‰ä½¿ç”¨<code>input</code>ç„¶åæ¥è¿›è¡Œä¿®æ”¹æ ·å¼çš„ï¼Œä¹Ÿæœ‰ç”¨å…¶å®ƒæ ‡ç­¾æ¥è‡ªå®šä¹‰çš„ã€‚<br>åšä¸»è¿™é‡Œæ‰¾äº†ä¸€ä¸ªæœ€ç®€å•æ–¹æ¡ˆï¼Œä¸€ä¸ª<code>span</code>æ ‡ç­¾æå®šï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// switch.component.html</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"weui-switch"</span> [<span class="attr">ngClass</span>]=<span class="string">"currentClass"</span> [<span class="attr">ngStyle</span>]=<span class="string">"style"</span> (<span class="attr">click</span>)=<span class="string">"toggle()"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>åŸºç¡€css<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// switch.comonent.scss</span></span><br><span class="line"><span class="selector-class">.weui-switch</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">23px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#DFDFDF</span>;</span><br><span class="line">    <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#DFDFDF</span>;</span><br><span class="line">    <span class="attribute">transition</span>: background-color <span class="number">0.1s</span>, border <span class="number">0.1s</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    &amp;<span class="selector-class">.disabled</span>&#123;</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">      <span class="attribute">cursor</span>: not-allowed;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.weui-switch</span>:before &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">" "</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#FDFDFD</span>;</span><br><span class="line">    <span class="attribute">transition</span>: transform <span class="number">0.35s</span> cubic-bezier(<span class="number">0.45</span>, <span class="number">1</span>, <span class="number">0.4</span>, <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.weui-switch</span>:after &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">" "</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">56%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">97%</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#FFFFFF</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.4</span>);</span><br><span class="line">    <span class="attribute">transition</span>: transform <span class="number">0.35s</span> cubic-bezier(<span class="number">0.4</span>, <span class="number">0.4</span>, <span class="number">0.25</span>, <span class="number">1.35</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.weui-switch-on</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#1AAD19</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#1AAD19</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.weui-switch-on</span>:before &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#1AAD19</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#1AAD19</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.weui-switch-on</span>:after &#123;</span><br><span class="line">    <span class="attribute">transform</span>: translateX(<span class="number">77%</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<p>æ•ˆæœå¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ ·å­:<br><img src="https://upload-images.jianshu.io/upload_images/7190596-60a6e91680d81400.gif?imageMogr2/auto-orient/strip" alt="è‡ªå®šä¹‰switchç»„ä»¶"><br>ï¼ˆå½•é¢‘å¹¶è½¬æ¢GIFæ¨èä½¿ç”¨<a href="https://gifcam.en.softonic.com/" target="_blank" rel="noopener">GifGam</a>ï¼‰<br>å¯ä»¥çœ‹åˆ°ï¼Œç»„ä»¶çš„æ ·å¼è®¾è®¡å¤§å¤šéƒ½æ˜¯ä½¿ç”¨ä¼ªç±»<code>:after</code>å’Œ<code>:before</code>æ¥å®ç°çš„ï¼Œè€Œå¼€å…³çš„æ•ˆæœæ˜¯é€šè¿‡ç‚¹å‡»çš„æ—¶å€™æ·»<br>åŠ /ç§»é™¤<code>class</code>å<code>weui-switch-on</code>æ¥å®ç°çš„ã€‚ï¼ˆè®²jsçš„æ—¶å€™ä¼šè®²åˆ°ï¼‰</p>
<p>ç”±äºæˆ‘ä»¬åˆ›å»ºçš„<code>switch</code>ç»„ä»¶æ˜¯éœ€è¦åœ¨å¤šå¤„ä½¿ç”¨ï¼Œå¹¶ä¸”è¦å‘å¤–è¾“å‡ºä¸€äº›å€¼ï¼Œæ‰€ä»¥åœ¨<code>ts</code>ä¸­æˆ‘ä»¬é¦–å…ˆè¦å¼•å…¥ä¸€ä¸‹<code>@Input</code>ã€<code>@Output</code>è£…é¥°å™¨å’Œ<code>EventEmitter</code>ã€‚<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, OnInit, Input, Output, EventEmitter, OnChanges &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br></pre></td></tr></table></figure></p>
<p>å¹¶ä¸”å®šä¹‰ä¸€äº›åŸºç¡€çš„å˜é‡<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Input</span>() style;<span class="comment">//&#123; 'width': '40px' &#125;//å¤–éƒ¨ç»„ä»¶è¾“å…¥çš„æ ·å¼å¯¹è±¡</span></span><br><span class="line"><span class="meta">@Input</span>() isChecked: <span class="built_in">boolean</span> = <span class="literal">false</span>;<span class="comment">//å¼€å…³æ˜¯å¦æ‰“å¼€</span></span><br><span class="line"><span class="meta">@Input</span>() disabled: <span class="built_in">boolean</span> = <span class="literal">false</span>;<span class="comment">//å¼€å…³æ˜¯å¦è¢«ç¦ç”¨</span></span><br><span class="line"><span class="meta">@Output</span>() change: EventEmitter&lt;<span class="built_in">any</span>&gt; = <span class="keyword">new</span> EventEmitter();</span><br><span class="line">_isSwitch: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">currentClass = &#123;&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ­¤æ—¶æˆ‘ä»¬çš„<code>ts</code>å˜æˆäº†è¿™æ ·ï¼š<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, OnInit, Input, Output, EventEmitter, OnChanges &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'app-switch'</span>,</span><br><span class="line">  templateUrl: <span class="string">'./switch.component.html'</span>,</span><br><span class="line">  styleUrls: [<span class="string">'./switch.component.scss'</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> SwitchComponent <span class="keyword">implements</span> OnInit, OnChanges &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line">  <span class="meta">@Input</span>() style;<span class="comment">//&#123; 'width': '40px' &#125;//å¤–éƒ¨ç»„ä»¶è¾“å…¥çš„æ ·å¼å¯¹è±¡</span></span><br><span class="line">  <span class="meta">@Input</span>() isChecked: <span class="built_in">boolean</span> = <span class="literal">false</span>;<span class="comment">//å¤–éƒ¨ç»„ä»¶è¾“å…¥è¿›æ¥çš„ï¼šå¼€å…³æ˜¯å¦æ‰“å¼€</span></span><br><span class="line">  <span class="meta">@Input</span>() disabled: <span class="built_in">boolean</span> = <span class="literal">false</span>;<span class="comment">//å¼€å…³æ˜¯å¦è¢«ç¦ç”¨</span></span><br><span class="line">  <span class="meta">@Output</span>() change: EventEmitter&lt;<span class="built_in">any</span>&gt; = <span class="keyword">new</span> EventEmitter();</span><br><span class="line">  _isSwitch: <span class="built_in">boolean</span> = <span class="literal">false</span>;<span class="comment">//switchç»„ä»¶æœ¬èº«çš„ï¼šå¼€å…³æ˜¯å¦æ‰“å¼€</span></span><br><span class="line">  currentClass = &#123;&#125; <span class="comment">//classé›†åˆ</span></span><br><span class="line">  </span><br><span class="line">  ngOnInit() &#123;<span class="comment">//åˆå§‹åŒ–ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  ngOnChanges() &#123;<span class="comment">//å½“è¢«ç»‘å®šçš„è¾“å…¥å±æ€§çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶è°ƒç”¨</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="3-1-setIsSwitch-æ–¹æ³•"><a href="#3-1-setIsSwitch-æ–¹æ³•" class="headerlink" title="3.1 setIsSwitch()æ–¹æ³•"></a>3.1 setIsSwitch()æ–¹æ³•</h4><p>ç»„ä»¶ä¸­å®šä¹‰äº†ä¿©ä¸ªâ€œå¼€å…³æ˜¯å¦æ‰“å¼€â€çš„å˜é‡<code>isChecked</code>å’Œ<code>_isSwitch</code><br>ä¸€ä¸ªæ˜¯å¤–éƒ¨ç»„ä»¶ä¼ é€’è¿›æ¥çš„é»˜è®¤å€¼ï¼Œä¸€ä¸ªæ˜¯ <code>switch</code>ç»„ä»¶è‡ªèº«çš„å€¼ã€‚<br>æ‰€ä»¥åœ¨ç»„ä»¶è¿›è¡Œåˆå§‹åŒ–å’Œå‘ç”Ÿæ”¹å˜çš„æ—¶å€™æˆ‘ä»¬åº”è¯¥è®©å…¶ç»Ÿä¸€ï¼š<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ngOnInit() &#123;<span class="comment">//åˆå§‹åŒ–ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</span></span><br><span class="line">  <span class="keyword">this</span>.setIsSwitch();</span><br><span class="line">&#125;</span><br><span class="line">ngOnChanges() &#123;<span class="comment">//å½“è¢«ç»‘å®šçš„è¾“å…¥å±æ€§çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶è°ƒç”¨</span></span><br><span class="line">  <span class="keyword">this</span>.setIsSwitch();</span><br><span class="line">&#125;</span><br><span class="line">setIsSwitch() &#123;<span class="comment">//è®¾ç½®_isSwitch</span></span><br><span class="line">  <span class="keyword">this</span>._isSwitch = <span class="keyword">this</span>.isChecked;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="3-2-setStyle-æ–¹æ³•"><a href="#3-2-setStyle-æ–¹æ³•" class="headerlink" title="3.2 setStyle()æ–¹æ³•"></a>3.2 setStyle()æ–¹æ³•</h4><p>ç”±äºæ˜¯è‡ªå®šä¹‰çš„ç»„ä»¶ï¼Œæˆ‘ä»¬å½“ç„¶æ˜¯å¸Œæœ›å¤§å°ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ï¼Œæ‰€ä»¥æˆ‘æƒ³è¦çš„æ•ˆæœæ˜¯ï¼š<br>åœ¨è°ƒç”¨ç»„ä»¶çš„æ—¶å€™ï¼Œè¾“å…¥ä¸€ä¸ªå®½åº¦<code>width</code>å±æ€§ï¼Œç»„ä»¶èƒ½å¤Ÿè‡ªåŠ¨è°ƒèŠ‚å°ºå¯¸ã€‚<br>å› æ­¤æˆ‘åœ¨è®¾è®¡çš„æ—¶å€™å°±å®šä¹‰äº†ä¸€ä¸ª<code>style</code>å˜é‡<br>å®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥å…è®¸å¼€å‘è€…è¾“å…¥ä»»æ„çš„æ ·å¼ï¼Œæ ¼å¼ä¸º<code>{ &#39;width&#39;: &#39;40px&#39; }</code><br>åŒæ—¶ä¸ºäº†å‡å°‘è¾“å…¥æ ·å¼çš„å¤æ‚åº¦ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ¥ç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œè®©ç»„ä»¶èƒ½å¤Ÿæ ¹æ®å®½åº¦æ¥è°ƒèŠ‚é«˜åº¦ï¼š<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">setStyle() &#123;<span class="comment">//è®¾ç½®æ ·å¼</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.style) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.style[<span class="string">'width'</span>] &amp;&amp; !<span class="keyword">this</span>.style[<span class="string">'height'</span>]) &#123;<span class="comment">//è‹¥æ˜¯è¾“å…¥äº†å®½åº¦æ²¡æœ‰è¾“å…¥é«˜åº¦åˆ™è‡ªåŠ¨è®¡ç®—</span></span><br><span class="line">        <span class="keyword">let</span> width = <span class="keyword">this</span>.getWidth(<span class="keyword">this</span>.style[<span class="string">'width'</span>]);</span><br><span class="line">        <span class="keyword">this</span>.style[<span class="string">'height'</span>] = (width * <span class="number">0.55</span>) + <span class="string">'px'</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">getWidth(widthStr) &#123;<span class="comment">//åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„widthå¸¦ä¸å¸¦pxå•ä½</span></span><br><span class="line">    <span class="keyword">let</span> reg = <span class="regexp">/px/</span>;</span><br><span class="line">    <span class="keyword">let</span> width = reg.test(widthStr) ? widthStr.match(<span class="regexp">/(\d*)px/</span>)[<span class="number">1</span>] : widthStr <span class="comment">//æ­£åˆ™è·å–ä¸å¸¦å•ä½çš„å€¼</span></span><br><span class="line">    <span class="keyword">if</span> (!width) width = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> width;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢æˆ‘ç¼–å†™çš„<code>setStyle()</code>æ–¹æ³•æ˜¯åˆ¤æ–­æœ‰æ²¡æœ‰å®½åº¦å’Œé«˜åº¦ï¼Œå¹¶å°†é«˜åº¦è®¾ç½®ä¸º<code>0.55 * width</code>(0.55ä¸ºæˆ‘æ‰¾åˆ°çš„æœ€åˆé€‚çš„æ¯”ä¾‹)</p>
<h4 id="3-3-setClass-æ–¹æ³•"><a href="#3-3-setClass-æ–¹æ³•" class="headerlink" title="3.3 setClass()æ–¹æ³•"></a>3.3 setClass()æ–¹æ³•</h4><p>å®Œæˆäº†ä¸Šé¢çš„æ­¥éª¤æˆ‘ä»¬åŸºæœ¬å°±å®Œæˆäº†å¯¹ç»„ä»¶æ ·å¼çš„åˆå§‹åŒ–ï¼Œä½†æ˜¯ï¼Œæœ€é‡è¦çš„ä¸€æ­¥å½“ç„¶æ˜¯é€šè¿‡æ·»åŠ /ç§»é™¤ä¸€äº›ç±»æ¥è¿›è¡Œç»„ä»¶çš„äº¤äº’ï¼š<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">setClass() &#123;<span class="comment">//è½¬æ¢switchæ—¶åˆ‡æ¢class</span></span><br><span class="line">   <span class="keyword">this</span>.currentClass = &#123;</span><br><span class="line">     <span class="string">'disabled'</span>: <span class="keyword">this</span>.disabled,</span><br><span class="line">     <span class="string">'bg_main bor_main weui-switch-on'</span>: <span class="keyword">this</span>._isSwitch</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p>
<p>å¯¹è±¡<code>currentClass</code>å­˜å‚¨çš„æ˜¯ç»„ä»¶å˜åŠ¨çš„ç±»åï¼Œå¯¹è±¡çš„é”®åä¸ºç±»åï¼Œå€¼ä¸ºä¸€ä¸ªå¸ƒå°”ç±»å‹çš„å˜é‡(true / false)<br>é€šè¿‡å¸ƒå°”ç±»å‹çš„å˜é‡æ¥åˆ¤æ–­æ·»åŠ è¿˜æ˜¯ç§»é™¤è¿™äº›ç±»åã€‚<br>ç¬¬ä¸€ä¸ªç±»<code>disabled</code>è¡¨ç¤ºçš„æ˜¯å¼€å…³æ˜¯å¦è¢«ç¦ç”¨ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·åªèƒ½æŸ¥çœ‹å¼€å…³ï¼Œå¹¶ä¸èƒ½å¯¹å…¶è¿›è¡Œæ“ä½œï¼Œå®ƒå—<code>disabled</code>å˜é‡æ§åˆ¶ã€‚<br>ç¬¬äºŒä¸ªç±»ä¸ºä¸‰ä¸ªç±»åçš„åˆå†™<code>bg_main</code>ã€<code>bor_main</code>ã€å’Œ<code>weui-switch-on</code>ï¼Œä»–ä»¬å—<code>_isSwitch</code>å˜é‡æ§åˆ¶ï¼Œ<br>ä¹Ÿå°±æ˜¯å¼€å…³æ‰“å¼€çš„æ—¶å€™åˆ™æ·»åŠ è¿™ä¸‰ä¸ªç±»ã€‚<br>å‰ä¿©ä¸ªç±»åæ˜¯æˆ‘åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„â€œçš®è‚¤ç±»åâ€ï¼Œå› ä¸ºå®¢æˆ·çš„éœ€è¦ï¼Œæˆ‘ä»¬äº§å“æœ‰å‡ å¥—ä¸åŒçš„ä¸»é¢˜è‰²ï¼Œç”¨æˆ·å¯ä»¥è¿›è¡Œæ¢è‚¤åŠŸèƒ½æ¥åˆ‡æ¢ä¸»é¢˜è‰²ï¼Œå› æ­¤å°±æœ‰ä¸€äº›ç±»åéœ€è¦ç”¨æ¥æ§åˆ¶ä¸»é¢˜è‰²ã€‚<br>å¦‚æ©˜è‰²ä¸»é¢˜ï¼š<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.bg_main</span> &#123;</span><br><span class="line">            <span class="attribute">background-color</span>: <span class="number">#ff7920</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bor_main</span> &#123;</span><br><span class="line">            <span class="attribute">border-color</span>: <span class="number">#ff7920</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å½“ç„¶ï¼Œä½ è‹¥æ˜¯æ²¡æœ‰ä¸»é¢˜è‰²çš„è¯è¯·å¿½ç•¥è¿™ä¿©ä¸ªç±»ã€‚</p>
<p>ä¸Šé¢çš„å‡ ä¸ªæ–¹æ³•æˆ‘ä»¬éƒ½éœ€è¦åœ¨ç»„ä»¶åˆå§‹åŒ–å’Œå˜é‡å‘ç”Ÿæ”¹å˜çš„æ—¶å€™è°ƒç”¨ï¼Œæ‰€ä»¥å¯ä»¥æ•´åˆåˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼š<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ngOnInit() &#123;</span><br><span class="line">  <span class="keyword">this</span>.initComponent();</span><br><span class="line">&#125;</span><br><span class="line">ngOnChanges() &#123;</span><br><span class="line">  <span class="keyword">this</span>.initComponent();</span><br><span class="line">&#125;</span><br><span class="line">initComponent() &#123;</span><br><span class="line">  <span class="keyword">this</span>.setIsSwitch();</span><br><span class="line">  <span class="keyword">this</span>.setStyle();</span><br><span class="line">  <span class="keyword">this</span>.setClass();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="3-4-toggle-æ–¹æ³•"><a href="#3-4-toggle-æ–¹æ³•" class="headerlink" title="3.4 toggle()æ–¹æ³•"></a>3.4 toggle()æ–¹æ³•</h4><p>å…‰æœ‰æ ·å¼å¯æ²¡ç”¨ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†ç»„ä»¶å’Œç”¨æˆ·çš„è¡Œä¸ºç»™ç»“åˆåœ¨ä¸€èµ·ï¼Œå› æ­¤ç»™ç»„ä»¶ä¸€ä¸ª<code>click</code>äº‹ä»¶æ¥è¿›è¡Œäº¤äº’ï¼Œå¹¶ç¼–å†™<code>toggle()</code>æ–¹æ³•ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">toggle() &#123;//åˆ‡æ¢switch</span><br><span class="line">    if (this.disabled) return;//è‹¥æ˜¯ç¦ç”¨æ—¶åˆ™ç›´æ¥è¿”å›</span><br><span class="line">    this._isSwitch = !this._isSwitch;</span><br><span class="line">    this.isChecked = this._isSwitch;</span><br><span class="line">    this.change.emit(this._isSwitch); //å‘å¤–éƒ¨ä¼ é€’æœ€æ–°çš„å€¼</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<p>æ•´åˆåçš„<code>ts</code>æ–‡ä»¶ä¸ºè¿™æ ·ï¼š<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, OnInit, Input, Output, EventEmitter, OnChanges &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'app-switch'</span>,</span><br><span class="line">  templateUrl: <span class="string">'./switch.component.html'</span>,</span><br><span class="line">  styleUrls: [<span class="string">'./switch.component.scss'</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> SwitchComponent <span class="keyword">implements</span> OnInit, OnChanges &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line">  <span class="meta">@Input</span>() onLabel: <span class="built_in">string</span> = <span class="string">''</span>;<span class="comment">//æš‚æ— </span></span><br><span class="line">  <span class="meta">@Input</span>() offLabel: <span class="built_in">string</span> = <span class="string">''</span>;</span><br><span class="line">  <span class="meta">@Input</span>() style;<span class="comment">//&#123; 'width': '40px' &#125;//å¤–éƒ¨ç»„ä»¶è¾“å…¥çš„æ ·å¼å¯¹è±¡</span></span><br><span class="line">  <span class="meta">@Input</span>() isChecked: <span class="built_in">boolean</span> = <span class="literal">false</span>;<span class="comment">//å¼€å…³æ˜¯å¦æ‰“å¼€</span></span><br><span class="line">  <span class="meta">@Input</span>() disabled: <span class="built_in">boolean</span> = <span class="literal">false</span>;<span class="comment">//å¼€å…³æ˜¯å¦è¢«ç¦ç”¨</span></span><br><span class="line">  <span class="meta">@Output</span>() change: EventEmitter&lt;<span class="built_in">any</span>&gt; = <span class="keyword">new</span> EventEmitter();</span><br><span class="line">  _isSwitch: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">  currentClass = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  ngOnInit() &#123;</span><br><span class="line">    <span class="keyword">this</span>.initComponent();</span><br><span class="line">  &#125;</span><br><span class="line">  ngOnChanges() &#123;</span><br><span class="line">    <span class="keyword">this</span>.initComponent();</span><br><span class="line">  &#125;</span><br><span class="line">  initComponent() &#123;<span class="comment">//åˆå§‹åŒ–å¹¶åˆ·æ–°ç»„ä»¶</span></span><br><span class="line">    <span class="keyword">this</span>.setIsSwitch();</span><br><span class="line">    <span class="keyword">this</span>.setStyle();</span><br><span class="line">    <span class="keyword">this</span>.setClass();</span><br><span class="line">  &#125;</span><br><span class="line">  setIsSwitch() &#123;</span><br><span class="line">    <span class="keyword">this</span>._isSwitch = <span class="keyword">this</span>.isChecked;</span><br><span class="line">  &#125;</span><br><span class="line">  setStyle() &#123;<span class="comment">//è®¾ç½®æ ·å¼</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.style) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.style[<span class="string">'width'</span>] &amp;&amp; !<span class="keyword">this</span>.style[<span class="string">'height'</span>]) &#123;<span class="comment">//è‹¥æ˜¯è¾“å…¥äº†å®½åº¦æ²¡æœ‰è¾“å…¥é«˜åº¦åˆ™è‡ªåŠ¨è®¡ç®—</span></span><br><span class="line">        <span class="keyword">let</span> width = <span class="keyword">this</span>.getWidth(<span class="keyword">this</span>.style[<span class="string">'width'</span>]);</span><br><span class="line">        <span class="keyword">this</span>.style[<span class="string">'height'</span>] = (width * <span class="number">0.55</span>) + <span class="string">'px'</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  setClass() &#123;<span class="comment">//è½¬æ¢switchæ—¶åˆ‡æ¢class</span></span><br><span class="line">    <span class="keyword">this</span>.currentClass = &#123;</span><br><span class="line">      <span class="string">'disabled'</span>: <span class="keyword">this</span>.disabled,</span><br><span class="line">      <span class="string">'bg_main bor_main weui-switch-on'</span>: <span class="keyword">this</span>._isSwitch</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  getWidth(widthStr) &#123;<span class="comment">//åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„widthå¸¦ä¸å¸¦pxå•ä½</span></span><br><span class="line">    <span class="keyword">let</span> reg = <span class="regexp">/px/</span>;</span><br><span class="line">    <span class="keyword">let</span> width = reg.test(widthStr) ? widthStr.match(<span class="regexp">/(\d*)px/</span>)[<span class="number">1</span>] : widthStr <span class="comment">//æ­£åˆ™è·å–ä¸å¸¦å•ä½çš„å€¼</span></span><br><span class="line">    <span class="keyword">if</span> (!width) width = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> width;</span><br><span class="line">  &#125;</span><br><span class="line">  toggle() &#123;<span class="comment">//åˆ‡æ¢switch</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.disabled) <span class="keyword">return</span>;<span class="comment">//è‹¥æ˜¯ç¦ç”¨æ—¶åˆ™ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">this</span>._isSwitch = !<span class="keyword">this</span>._isSwitch;</span><br><span class="line">    <span class="keyword">this</span>.isChecked = <span class="keyword">this</span>._isSwitch;</span><br><span class="line">    <span class="keyword">this</span>.change.emit(<span class="keyword">this</span>._isSwitch);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="å››ã€å¼•ç”¨switchç»„ä»¶"><a href="#å››ã€å¼•ç”¨switchç»„ä»¶" class="headerlink" title="å››ã€å¼•ç”¨switchç»„ä»¶"></a>å››ã€å¼•ç”¨switchç»„ä»¶</h3><p>å®Œæˆäº†ä¸Šé¢çš„éƒ¨åˆ†ï¼Œåˆ°äº†æˆ‘ä»¬æœ€æ¿€åŠ¨çš„æ—¶å€™äº†ï¼Œçœ‹çœ‹æˆ‘ä»¬äº²æ‰‹åˆ¶ä½œçš„ç»„ä»¶æœ‰æ²¡æœ‰ç”¨å§ï¼Œå“ˆå“ˆã€‚<br>é¦–å…ˆï¼Œåœ¨ä½¿ç”¨å…¶å®ƒç»„ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦å°†å…¶å¼•å…¥è¿›æ¥ï¼Œç”±äºæˆ‘ä»¬æœ€å¼€å§‹æ˜¯å°†<code>switch</code>ç»„ä»¶å¼•å…¥åˆ°<code>shared</code>è¿™ä¸ªæ¨¡å—ä¸­ï¼Œå¹¶ä»è¿™ä¸ªæ¨¡å—ä¸­å¯¼å‡ºçš„ï¼Œæ‰€ä»¥æƒ³è¦åœ¨å…¶å®ƒæ¨¡å—ä¸­ä½¿ç”¨ <code>switch</code>ç»„ä»¶å°±å¾—å…ˆå¼•å…¥<code>shared</code>æ¨¡å—ã€‚</p>
<h4 id="4-1-å¼•å…¥sharedæ¨¡å—"><a href="#4-1-å¼•å…¥sharedæ¨¡å—" class="headerlink" title="4.1 å¼•å…¥sharedæ¨¡å—"></a>4.1 å¼•å…¥sharedæ¨¡å—</h4><p>æœ¬é¡¹ç›®ä¸­æœ‰å¦ä¸€ä¸ªæ¨¡å—åä¸º<code>coursemanage</code>ï¼Œç°åœ¨æˆ‘å°†å…¶ä½œä¸ºçˆ¶ç»„ä»¶æ¥å¼•ç”¨ä¸€ä¸‹<code>switch</code>ç»„ä»¶<br>é¦–å…ˆåœ¨æ¨¡å—é‡Œå¼•ç”¨ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//coursemanage.module.ts</span><br><span class="line">import &#123; NgModule &#125; from &apos;@angular/core&apos;;</span><br><span class="line">import &#123; SharedModule &#125; from &quot;./../common/shared.module&quot;;</span><br><span class="line">@NgModule(&#123;</span><br><span class="line">  imports: [</span><br><span class="line">      SharedModule</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line">export class CourseManageModule &#123; &#125;</span><br></pre></td></tr></table></figure></p>
<p>å¼•å…¥äº†<code>shared</code>æ¨¡å—å°±ç›¸å½“äºæ˜¯å¼•å…¥é‚£ä¸ªé‚£ä¸ªæ¨¡å—ä¸­çš„æ‰€æœ‰ç»„ä»¶å’Œæ–¹æ³•ã€‚</p>
<h4 id="4-2-ä½¿ç”¨switchç»„ä»¶"><a href="#4-2-ä½¿ç”¨switchç»„ä»¶" class="headerlink" title="4.2 ä½¿ç”¨switchç»„ä»¶"></a>4.2 ä½¿ç”¨switchç»„ä»¶</h4><p>åœ¨<code>coursemanage</code>æ¨¡å—ä¸­ï¼Œæœ‰å…¶å­ç»„ä»¶<code>course</code>è¿™ä¸ªç»„ä»¶ï¼Œåœ¨<code>course</code>ä¸­ä½¿ç”¨<code>switch</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--course.component.html--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">app-switch</span> [<span class="attr">isChecked</span>]=<span class="string">"dataStatus"</span> (<span class="attr">change</span>)=<span class="string">"changeSwitch($event)"</span>&gt;</span><span class="tag">&lt;/<span class="name">app-switch</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//course.component.ts</span></span><br><span class="line"></span><br><span class="line">dataStatus: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">changeSwitch($event) &#123;</span><br><span class="line">  <span class="keyword">this</span>.dataStatus = $event;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶å°±å®Œæˆäº†<code>switch</code>ç»„ä»¶çš„ç¼–å†™å’Œä½¿ç”¨ã€‚<br>ä½ ä¹Ÿå¯ä»¥ç»™ç»„ä»¶è®¾ç½®å¦ä¸€ä¸ªå±æ€§<code>disabled</code>:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--course.component.html--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">app-switch</span> [<span class="attr">isChecked</span>]=<span class="string">"dataStatus"</span> [<span class="attr">disable</span>]=<span class="string">"true"</span> (<span class="attr">change</span>)=<span class="string">"changeSwitch($event)"</span>&gt;</span><span class="tag">&lt;/<span class="name">app-switch</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="åè¯­"><a href="#åè¯­" class="headerlink" title="åè¯­"></a>åè¯­</h3><p>ä¸Šè¿°è®¾è®¡çš„switchç»„ä»¶åº”è¯¥æ˜¯UIç»„ä»¶ä¸­æ¯”è¾ƒç®€å•çš„ä¸€ç§UIç»„ä»¶äº†ï¼Œè¿˜æœ‰æ›´å¤šå¤æ‚çš„ç»„ä»¶æœ‰å¾…æˆ‘ä»¬çš„å¼€å‘ï¼Œé€šè¿‡è‡ªå·±è®¾è®¡UIç»„ä»¶ï¼Œemmmâ€¦.å¯ä»¥è®©æˆ‘ä»¬æ›´æœ‰åˆ›é€ åŠ›å§åº”è¯¥è¯´ï¼Œä¹Ÿä¿ƒä½¿è‡ªå·±å¤šå»çœ‹åˆ«äººçš„åšå®¢ä¸æºç ï¼Œæœ€åå†å†™ä¸Šä¸€ç¯‡æ€»ç»“ï¼Œæˆ‘è®¤ä¸ºè¿™åº”è¯¥æ˜¯ä¸€ä¸ªæ­£å‘çš„æ¿€åŠ±ğŸ’ªï¼Œå“ˆå“ˆï¼Œå…¨ç¯‡åºŸè¯å¾ˆå¤šï¼Œä¸è¿‡è¿˜æ˜¯è¦æ„Ÿè°¢å°ä¼™çš„é˜…è¯»ğŸ™‚ã€‚</p>

    
    </div>
    
        
</article>
  </div>

  

<footer id="footer">
    <div class="footer-copyright">
        <div>
            <p> ç‰ˆæƒæ‰€æœ‰ <a href="">LinDaiDai </a> @ 2019</p>
            <!--<p>è®¾è®¡: <i class="fas fa-paint-brush"></i> <a href="https://moober.cn">Moober</a> å’Œ <i class="fas fa-graduation-cap"></i> <a href="https://qutang.github.io">Qu Tang</a> &bull; ä¸»é¢˜: <a href="https://qutang.github.io/cutie/">Cutie 2.1.3-</a> &bull; ç”± <a href="http://hexo.io">Hexo.</a> å¼ºåŠ›é©±åŠ¨</p>-->
        </div>
    </div>
    
    <div class="footer-social">
        
    </div>
</footer>

  <br>

  <div id="footer-nav" class='footer-nav'>
		



<nav id="nav">
	
	
	
	<div class="nav-item" id="nav-item-toc">
		


<div class="toc-container">
<i class="far fa-times-circle" id="toc-close" onclick="closeTOC(event);" ontouchstart="closeTOC(event);"></i>

</div>
<div class="toc-button" onclick="toggleTOC(event);" ontouchstart="toggleTOC(event);">
    <img src="/images/icons//toc.svg" alt="">
</div>

	</div>
	
	<div class="nav-item" id="nav-item-archive">
		
				<div class="nav-icon">
				
			<a href="/archives/" title="å½’æ¡£">
			<img src="/images/icons//archive.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id="nav-item-search">
		
		<div class="nav-icon">
		
			<a href="/search/" title="æœç´¢">
			<img src="/images/icons//search.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id="nav-item-more">
		<div class="nav-icon">
				<a href="#" onclick="onClickMenuIcon(event);" ontouchstart="onClickMenuIcon(event);">
				<img src="/images/icons//menu.svg" alt="">
				</a>
		</div>
		<div class="nav-more-menu">
				<i class="far fa-times-circle" id="nav-more-menu-close" onclick="onClickNavMenuClose(event);" ontouchstart="onClickNavMenuClose(event);"></i>
		
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/php/">
						<span>Php</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/mySql/">
						<span>Mysql</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/å…¶å®ƒæŠ€èƒ½/">
						<span>å…¶å®ƒæŠ€èƒ½</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/vscode/">
						<span>Vscode</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/å‰ç«¯è¿›é˜¶/">
						<span>å‰ç«¯è¿›é˜¶</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/å‰ç«¯å…¥é—¨/">
						<span>å‰ç«¯å…¥é—¨</span>
					</a>
				</div>
		</div>
		
	</div>
	</div>
</nav>

	</div>

  












<script type="text/javascript">

  
  // update cookie if this page is opened (directly)
  loadjs(['/libs/jshashes/hashes.min.js', '/libs/js-cookie/src/js.cookie.js', '/js/post.v2.js'], 'post-version');
  loadjs.ready('post-version', function(){
    
    new Postv2('').update('', function(){});
  });
  
</script>


    
<script type="text/javascript">
  
  // update cookie if this page is opened (directly)
  function getIP(json) {
  loadjs(['/libs/jshashes/hashes.min.js', '/libs/js-cookie/src/js.cookie.js', '/js/leancloud.js'], 'post-visit-comment-count');
  loadjs.ready('post-visit-comment-count', function(){
    
    
    LeanCloud.init('', '');
    var leanCloud = LeanCloud.getInstance();
    leanCloud.fetchIsThumbUp('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/', json.ip);
    document.getElementById('thumb-up-button').addEventListener('click', function(e){
      leanCloud.isThumbUp('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/', function(isThumbUp){
        console.log('is thumb up:' + isThumbUp);
        if(isThumbUp){
          leanCloud.removeThumbUpRecord('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/', json.ip);
          document.getElementById('thumb-up-icon').className = "far fa-thumbs-up fa-lg";
          
        }else{
          leanCloud.addThumbUpRecord('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/', json.ip);
          document.getElementById('thumb-up-icon').className = "fas fa-thumbs-up fa-lg";
        }
        leanCloud.getThumbUpCount('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/', function(count){
            console.log('thumb up count: ' + count)
            var el = document.getElementById('article-thumbup-count');
            if(el) el.innerHTML = count;
        });
      });
    });
    leanCloud.addVisitRecord('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/', json.ip);
    leanCloud.fetchCommentCount('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/');
    leanCloud.fetchVisitCount('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/');
    leanCloud.fetchThumbUpCount('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/');
    leanCloud.getCommentCount('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/', function(count){
        var el = document.querySelector('#article-comment-count');
        if(el) el.innerHTML = count;
    });
    leanCloud.getVisitCount('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/', function(count){
        var el = document.querySelector('#article-visit-count');
        if(el) el.innerHTML = count;
    });
    leanCloud.getThumbUpCount('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/', function(count){
        var el = document.getElementById('article-thumbup-count');
        if(el) el.innerHTML = count;
    });
    leanCloud.isThumbUp('/2018/10/21/webNotes/advanced/Angular/angularOfUISwitch/', function(isThumbUp){
        console.log('init thumb up:' + isThumbUp);
        if(isThumbUp){
          document.getElementById('thumb-up-icon').className = "fas fa-thumbs-up fa-lg";
        }else{
          document.getElementById('thumb-up-icon').className = "far fa-thumbs-up fa-lg";
        }
    });
  });
  }
  
</script>

<script type="application/javascript" src="https://api.ipify.org?format=jsonp&callback=getIP"></script>



<!-- <script src="/js/post.js"></script> -->

<script src="/js/headroom.min.js"></script>

<script data-no-instant="" type="text/javascript">

initHeadroom();

changeLayoutOnTouchScreen();

// 
// var post = new Post('', '');
// post.getCommentCount(window.location.pathname, function(count){
//     $('#article-comment-count').text(count);
// });
// post.addVisitRecord(window.location.pathname, userip);
// post.getVisitCount(window.location.pathname, function(count){
//     $('#article-visit-count').text(count);
// });

// 
</script>


<!-- End Document
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
</body>
</html>
